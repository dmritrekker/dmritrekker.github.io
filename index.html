<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Trekker &#8212; trekker 1.0b documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=c9538944"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="guide/tutorial.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="trekker">
<h1>Trekker<a class="headerlink" href="#trekker" title="Link to this heading">¬∂</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>August 19<sup>th</sup>, 2024</p>
<p><strong>UPDATE:</strong> We are excited to announce the first release candidate. Trekker v1.0.0-rc1 includes bug fixes and improvements, particularly in surface handling. See below for a list of major changes.</p>
</div>
<p>Trekker offers state-of-the-art tractography tools to study the structural connectivity of the brain. Trekker aims to improve fiber tracking pipelines by offering features like:</p>
<ul class="simple">
<li><p><strong>Well-organized, clean, probabilistic streamline tractography</strong> using the parallel transport tractography (PTT) algorithm.</p></li>
<li><p>A comprehensive set of <strong>tractogram filtering</strong> options, including support for anatomical constraints using surface meshes.</p></li>
<li><p>Compatibility with <strong>.vtk</strong> format, to enable the use of powerful third-party 3D rendering software, such as <a class="reference external" href="https://www.paraview.org/">Paraview</a>, for easy and high-quality visualizations.</p></li>
<li><p>Support for asymmetric FODs, providing greater flexibility in fiber tracking.</p></li>
<li><p>Several features designed for high-performance computing (HPC), including multithreading, time-limited tracking, and a user-friendly command line interface.</p></li>
<li><p>Since 2017, algorithms and pipelines based on Trekker have earned awards in every international tractography competition, each featuring different themes.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>üèÜ <strong>Awards and Recognitions</strong></p>
<p>Tractography pipelines based on Trekker have earned awards in every international tractography challenge since 2017. Click <a class="reference external" href="about/awards.html">here</a> to learn more about Trekker‚Äôs awards.</p>
</div>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¬∂</a></h2>
<section id="option-1-stand-alone-executables">
<h3>Option 1: Stand-alone executables<a class="headerlink" href="#option-1-stand-alone-executables" title="Link to this heading">¬∂</a></h3>
<p>Please find the stand-alone executables under <a class="reference external" href="https://github.com/dmritrekker/trekker/releases">Releases</a>.</p>
</section>
<section id="option-2-building-from-source">
<h3>Option 2: Building from source<a class="headerlink" href="#option-2-building-from-source" title="Link to this heading">¬∂</a></h3>
<p>Trekker relies on <a class="reference external" href="https://github.com/nibrary/nibrary">nibrary</a>. To compile Trekker from source, ensure that nibrary is installed first. Then follow these steps to compile Trekker:</p>
<p><strong>Step 1: Download the Source Code</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/dmritrekker/trekker
</pre></div>
</div>
<p><strong>Step 2: Modify and run the build script</strong></p>
<ul class="simple">
<li><p><strong>For Linux:</strong> Edit <code class="docutils literal notranslate"><span class="pre">build_Linux.sh</span></code></p></li>
</ul>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¬∂</a></h2>
<p>Simply run <code class="docutils literal notranslate"><span class="pre">trekker</span></code> on the terminal. This will display help and the commands, which are listed below:</p>
<table style="width: 100%; border-collapse: collapse;">
    <tr style="background-color: #f2f2f2;">
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Command</th>
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Description</th>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/track.html">track</a></strong></td>
        <td style="padding: 8px;">Performs fiber tracking using parallel transport tractography (PTT) algorithm. PTT excels in reconstructing geometrically smooth and topographically organized fiber bundles.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/filter.html">filter</a></strong></td>
        <td style="padding: 8px;">Trekker employs an intuitive set of pathway rules to filter tractograms. The rules can be specified with surface meshes, as well as with spheres, image masks and partial volume fractions.</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/track2img.html">track2img</a></strong></td>
        <td style="padding: 8px;">Maps tractogram features on an image.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/track2surf.html">track2surf</a></strong></td>
        <td style="padding: 8px;">Maps tractogram features on a surface.</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/img2track.html">img2track</a></strong></td>
        <td style="padding: 8px;">Maps image values on a tractogram.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/select.html">select</a></strong></td>
        <td style="padding: 8px;">Selects streamlines from a tractogram.</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/resample.html">resample</a></strong></td>
        <td style="padding: 8px;">Resamples streamlines in a tractogram.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/convert.html">convert</a></strong></td>
        <td style="padding: 8px;">Converts tractogram file formats (.vtk, .tck, .trk).</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/transform.html">transform</a></strong></td>
        <td style="padding: 8px;">Applies a transform on an input tractogram.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/diff.html">diff</a></strong></td>
        <td style="padding: 8px;">Finds different streamlines between two tractograms.</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/merge.html">merge</a></strong></td>
        <td style="padding: 8px;">Merges two tractograms, optionally ignoring duplicates.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/addColor.html">addColor</a></strong></td>
        <td style="padding: 8px;">Adds colors to streamlines (.vtk only).</td>
    </tr>
    <tr>
        <td style="padding: 8px;"><strong><a href="../commands/fieldExport.html">fieldExport</a></strong></td>
        <td style="padding: 8px;">Exports a selected vtk field from a tractogram (.vtk only).</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px;"><strong><a href="../commands/fieldImport.html">fieldImport</a></strong></td>
        <td style="padding: 8px;">Adds a new vtk field with values read from a file (.vtk only).</td>
    </tr>
    <tr>
        <td style="padding: 8px; border-bottom: 1px solid #000;"><strong><a href="../commands/fieldRemove.html">fieldRemove</a></strong></td>
        <td style="padding: 8px; border-bottom: 1px solid #000;">Removes a vtk field from a tractogram (.vtk only).</td>
    </tr>
</table></section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¬∂</a></h2>
<p><strong>Fiber tracking example:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./trekker<span class="w"> </span>track<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>FOD.nii.gz<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--seed<span class="w"> </span>WHITE_MATTER_SURFACE.gii<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--seed_surf_useSurfNorm<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--seed_count<span class="w"> </span><span class="m">100000</span><span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--pathway<span class="w"> </span>discard_if_ends_inside<span class="w"> </span>WHITE_MATTER.nii.gz<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--pathway<span class="w"> </span>discard_if_enters<span class="w"> </span>CSF.nii.gz<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--minLength<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--maxLength<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--output<span class="w"> </span>OUT_TRACK.vtk
</pre></div>
</div>
<p><strong>Fiber filtering example:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># You can use the --seed option when filtering too.</span>
./trekker<span class="w"> </span>filter<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>INP_TRACK.vtk<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--seed<span class="w"> </span>WHITE_MATTER_SURFACE.gii<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>--pathway<span class="w"> </span>require_end_inside<span class="w"> </span>LEFT_THAL.nii.gz<span class="w"> </span><span class="se">\</span>
<span class="w">          </span>OUT_TRACK.vtk
</pre></div>
</div>
</section>
<section id="release-notes-for-trekker-v1-0-0-rc1">
<h2>Release notes for Trekker-v1.0.0-rc1<a class="headerlink" href="#release-notes-for-trekker-v1-0-0-rc1" title="Link to this heading">¬∂</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><strong>Bug fix 1</strong>: Fixed a bug in <cite>track</cite> where streamlines were not stopped as expected when a pathway rule was set. This issue occurred because <cite>track</cite> allowed stop options unsupported by nibrary. The fix involved providing nibrary with the necessary stopping features during tracking.</p></li>
<li><p><strong>Bug fix 2</strong>: (<em>Thanks to John Kruper for spotting this one!</em>) Fixed a bug in <cite>track</cite> related to the computation of data support in parallel transport tracking. Previously, the contribution from the last part of the probe was reused as the first part‚Äôs contribution in the next iteration to speed up computation. This fix ensures the data support contribution is computed only once for the first part and reused for other candidate probes. Although this bug has existed since v0.5, it should not significantly affect results with default probe quality (4) and length (0.25 x voxel size). However, it may impact streamlines computed with longer probe lengths and lower quality probes.</p></li>
<li><p><strong>Bug fix 3</strong>: Fixed a bug affecting both <cite>track</cite> and <cite>filter</cite>, where streamlines were not following the <cite>require_end_inside</cite> rule. The issue occured because this rule was commented out during a part of the development, and it was forgotten to be restored.</p></li>
<li><p><strong>Improvement 1</strong>: Reorganized the code to harmonize the handling of segment-surface interactions.</p></li>
<li><p><strong>Improvement 2</strong>: Switched to the <em>double</em> datatype in certain functions to better manage edge cases.</p></li>
</ul>
<p>With the beta release (May 21<sup>st</sup>, 2024), Trekker has gone through significant changes:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Powered by <a class="reference external" href="https://github.com/nibrary/nibrary">nibrary</a>, Trekker now features:</dt><dd><ul>
<li><p>Support for surface based tracking and filtering</p></li>
<li><p>Advanced pathway rules for filtering streamlines</p></li>
<li><p>Subcommands to perform various tractogram operations</p></li>
<li><p>Improved command line interface</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>While the core fiber tracking algorithm (PTT) works the same, the new version of Trekker is not compatible with the previous versions due to the above changes.</dt><dd><ul>
<li><p><em>Remark:</em> Your previous code (script) written for earlier versions of Trekker need to be modified to work with the latest version.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Some existing features in earlier versions of Trekker are currently missing in the latest version:</dt><dd><ul>
<li><p>Windows compatibility</p></li>
<li><p>Python and Matlab support</p></li>
<li><p>Exporting of a <cite>.json</cite> formatted tracking report</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Enjoy the new Trekker!</p>
</div></blockquote>
<hr class="docutils" />
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/logo.png" alt="Logo of trekker"/>
            </a></p>
<h3><a href="#">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="guide/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/pathways.html">Pathways</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/FOD.html">FOD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commands</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="commands/track.html">track</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/filter.html">filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/track2img.html">track2img</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/track2surf.html">track2surf</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/img2track.html">img2track</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/select.html">select</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/resample.html">resample</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/convert.html">convert</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/transform.html">transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/diff.html">diff</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/merge.html">merge</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/addColor.html">addColor</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/fieldExport.html">fieldExport</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/fieldImport.html">fieldImport</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/fieldRemove.html">fieldRemove</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about/awards.html">Awards</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/licenseAndWarranty.html">License and warranty</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/contact.html">Contact</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Dogu Baran Aydogan.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>