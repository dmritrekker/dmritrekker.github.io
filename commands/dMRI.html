<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dMRI &#8212; trekker 1.0.0-rc4 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=d9b413eb"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Awards" href="../about/awards.html" />
    <link rel="prev" title="fieldRemove" href="fieldRemove.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dmri">
<h1>dMRI<a class="headerlink" href="#dmri" title="Link to this heading">¶</a></h1>
<p>Trekker currently only has a single dMRI command.</p>
<p>dMRI signal reconstruction based on <a class="reference internal" href="#transhi2015" id="id1"><span>[TranShi2015]</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Usage</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./trekker<span class="w"> </span>dMRI<span class="w"> </span>recon<span class="w"> </span>tran_shi_2015<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>&lt;input<span class="w"> </span>dMRI<span class="w"> </span>image&gt;<span class="w"> </span>&lt;output<span class="w"> </span>FOD&gt;<span class="w"> </span>&lt;output<span class="w"> </span>tissue<span class="w"> </span>map&gt;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Positionals</strong></p>
<ul class="simple">
<li><dl class="simple">
<dt><cite>&lt;input dMRI image&gt; TEXT:FILE REQUIRED</cite></dt><dd><p>Input diffusion MRI image (.nii, .nii.gz)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>&lt;output FOD&gt; TEXT REQUIRED</cite></dt><dd><p>Output FOD image (.nii, .nii.gz)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>&lt;output tissue map&gt; TEXT REQUIRED</cite></dt><dd><p>Output tissue map image (.nii, .nii.gz)</p>
</dd>
</dl>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Options</strong></p>
<table style="width: 100%; border-collapse: collapse;">
    <tr style="background-color: #f2f2f2;">
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Option</th>
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Description</th>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">-m, --mask TEXT:FILE REQUIRED</td>
        <td style="padding: 8px;">Brain mask (.nii/.nii.gz)</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">-g, --gradient [TEXT,TEXT]:FILE REQUIRED</td>
        <td style="padding: 8px;">bvals and bvecs text files given in FSL format, e.g., -g bvals bvecs.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">-o, --order INT</td>
        <td style="padding: 8px;">Spherical harmonic order. Default: 8</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">-s, --deltaStep FLOAT</td>
        <td style="padding: 8px;">Gradient descent step size. Default: 0.0000001</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--D_inAx FLOAT</td>
        <td style="padding: 8px;">Intra-axonal diffusivity. Default: 0.0017 mm^2/s</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--D_trapped FLOAT</td>
        <td style="padding: 8px;">Trapped water diffusivity. Default: 0 mm^2/s</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--init_D_exAx_iso FLOAT</td>
        <td style="padding: 8px;">Initial value for extra-axonal diffusivity. Default: 0.001 mm^2/s</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--init_minNumConstraint INT</td>
        <td style="padding: 8px;">Initial number of constraints. Default: 100</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--constraintUpdateCount INT</td>
        <td style="padding: 8px;">Update count for constraints. Default: 1</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--disableFastOptimization</td>
        <td style="padding: 8px;">Disable fast optimization by fully solving the system at each iteration.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--bValLow FLOAT</td>
        <td style="padding: 8px;">Lowest b-value to include. Default: 10 s/mm^2</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--bValHigh FLOAT</td>
        <td style="padding: 8px;">Highest b-value to include. Default: 1000000000000 s/mm2</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--maxIter INT</td>
        <td style="padding: 8px;">Number of optimization steps. Default: 1000</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--xi_init FLOAT</td>
        <td style="padding: 8px;">Initial regularization value. Default: 0.04</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">--xi_step FLOAT</td>
        <td style="padding: 8px;">Regularization step size. Default: 0.02</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--xi_stepCount INT</td>
        <td style="padding: 8px;">Number of regularization steps. Default: 100</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">-c, --maxCrossings INT</td>
        <td style="padding: 8px;">Maximum number of fiber maxCrossings. Default: 4</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">--noiseFloor FLOAT</td>
        <td style="padding: 8px;">Noise floor. Default: 0</td>
    </tr>
</table><div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>General options</strong></p>
<table style="width: 100%; border-collapse: collapse;">
    <tr style="background-color: #f2f2f2;">
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Option</th>
        <th style="padding: 8px; border-bottom: 1px solid #000; border-top: 1px solid #000;">Description</th>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">-h, --help</td>
        <td style="padding: 8px;">Print this help message and exit.</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500;">-n, --numberOfThreads INT</td>
        <td style="padding: 8px;">Number of threads.</td>
    </tr>
    <tr style="background-color: #f2f2f2;">
        <td style="padding: 8px; font-weight: 500;">-v, --verbose TEXT</td>
        <td style="padding: 8px;">Verbose level. Options are "quiet", "fatal", "error", "warn", "info", and "debug". Default=info.</td>
    </tr>
    <tr>
        <td style="padding: 8px; font-weight: 500; border-bottom: 1px solid #000;">-f, --force</td>
        <td style="padding: 8px; border-bottom: 1px solid #000;">Force overwriting of existing file.</td>
    </tr>
</table><p><strong>References</strong></p>
<p>This method is based on incorporating a compartment model into a spherical deconvolution framework, directly optimizing spherical harmonics coefficients, for fiber orientation distribution (FOD) reconstruction, using an adaptively constrained energy minimization approach for efficient computation. This allows for sharper and cleaner FODs, better modeling of fiber crossings, and reliable estimation of compartment parameters.</p>
<div role="list" class="citation-list">
<div class="citation" id="transhi2015" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">TranShi2015</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://ieeexplore.ieee.org/abstract/document/7103314">Tran, G. Shi, Y. “Fiber orientation and compartment parameter estimation from multi-shell diffusion imaging.” IEEE Transactions on Medical Imaging, 2015, 34(11), pp.2320-2332.</a></p>
</div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo of trekker"/>
            </a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/pathways.html">Pathways</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/FOD.html">FOD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commands</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="info.html">info</a></li>
<li class="toctree-l1"><a class="reference internal" href="track.html">track</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="track2img.html">track2img</a></li>
<li class="toctree-l1"><a class="reference internal" href="track2surf.html">track2surf</a></li>
<li class="toctree-l1"><a class="reference internal" href="img2track.html">img2track</a></li>
<li class="toctree-l1"><a class="reference internal" href="select.html">select</a></li>
<li class="toctree-l1"><a class="reference internal" href="resample.html">resample</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert.html">convert</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="diff.html">diff</a></li>
<li class="toctree-l1"><a class="reference internal" href="merge.html">merge</a></li>
<li class="toctree-l1"><a class="reference internal" href="addColor.html">addColor</a></li>
<li class="toctree-l1"><a class="reference internal" href="fieldExport.html">fieldExport</a></li>
<li class="toctree-l1"><a class="reference internal" href="fieldImport.html">fieldImport</a></li>
<li class="toctree-l1"><a class="reference internal" href="fieldRemove.html">fieldRemove</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">dMRI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/awards.html">Awards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/licenseAndWarranty.html">License and warranty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/contact.html">Contact</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Dogu Baran Aydogan.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/commands/dMRI.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>